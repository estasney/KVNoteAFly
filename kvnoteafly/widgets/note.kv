#:import StyledLabels widgets.style
#:import btns widgets.buttons

<Note>:
    id: note_container
    note_title: note_title
    note_content: note_content
    note_tags: note_tags

    BoxLayout:
        orientation: 'vertical'
        NoteTitle:
            padding: 0, dp(5), 0, dp(5)
            id: note_title
            size_hint: 1, 0.1
            size_hint_max_y: '45dp'
        HSeparator:
            size_hint: 1, 0.01
            size_hint_max_y: '2sp'
        NoteContent:
            id: note_content
            size_hint: 1, 0.75
        HSeparator:
            size_hint: 1, 0.01
            size_hint_max_y: '2sp'
        NoteTags:
            id: note_tags
            size_hint: 1, 0.05
            size_hint_max_y: '20dp'

<NoteTitle>:
    id: note_title
    edit_button: edit_button
    canvas:
        Color:
            rgba: app.colors['Dark']
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        padding: 0, '1sp', '1sp', 0
        EditButton:
            id: edit_button
            size_hint_min_y: 1
            size_hint_x: None
            width: self.height * 1.618
            opacity: 1 if self.state == 'normal' else 0.6
            mipmap: True
            on_release: app.display_state = "edit"
        BaseLabel:
            id: note_title_label
            color: app.colors['White']
            text: note_title.title_text
            bold: True
            text_size: sp(self.size[0]*0.9), None
            font_size: app.base_font_size
            pos_hint: {"x": 0, "y": 0}
            size_hint: (0.7, 1)
            halign: "center"
            valign: "center"
            mipmap: True
        ButtonBar:
            size_hint: (0.3, 1)


<NoteContent>:
    id: note_content
    orientation: 'vertical'
    canvas:
        Color:
            rgb: app.colors['Primary']
        Rectangle:
            pos: self.pos
            size: self.size


<NoteTags>:
    id: note_tags
    canvas:
        Color:
            rgba: app.colors['Dark']
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'vertical'
        SmallLabel:
            id: note_tag_label
            color: hex('#000000')
            text: ''
            mipmap: True
